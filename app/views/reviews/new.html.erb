<div class="container">
  <h2 class="text-center">レビュー投稿する</h2>
  
  <hr/>
  
  <div>
    <p class="text-center text-muted"><%= flash[:alert] %></p>
    <!--<p>-->
    <!--  <% if @review.errors.any? %>-->
    <!--    <%= @review.errors.count %>箇所、入力ミスがあるようです-->
    <!--  <% end %>-->
    <!--</p>-->
  </div>

  <div class="form">
    <%= form_with model:@review, url:reviews_path , local:true do |f| %>
      <%= f.hidden_field :id, :value => @review.id %>
  
       <!--商品画像-->
      <div class="mt-5">
        <strong><%= f.label :review_image, "商品画像：" %></strong>
        <%= f.attachment_field :review_image %>
      </div>
      
      <!--タイトル-->
      <div class="mt-5">
        <strong><%= f.label :title, "商品名" %></strong>
        <%= f.text_field :title, autofocus: true, class: 'form-control' %>
      </div>
      
      <!-- 評価 -->
      <div class="mt-5" id="star">
        <strong><%= f.label :rate, "評価：" %></strong>
        <%= f.hidden_field :rate, id: :review_star %>
        <!--star がポイント(jsを呼ぶ)-->
      </div>
  
      <!-- 評価javascript -->
      <script>
      $('#star').raty({
        size     : 36,
        starOff:  '<%= asset_path('star-off.png') %>',
        starOn : '<%= asset_path('star-on.png') %>',
        starHalf: '<%= asset_path('star-half.png') %>',
        scoreName: 'review[rate]',
        half: true,
      });
      </script>
  
  
      <!--レビュー内容-->
      <div class="mt-5">
        <strong><%= f.label :review_content, "レビュー内容" %></strong>
        <%= f.text_area :review_content, class: 'form-control' %>
      </div>
  
      <!--投稿ボタン-->
      <div class="row">
        <div class="col-md-3 mx-auto mt-5">
          <%= f.submit "レビューする", class: 'btn btn-info btn-sm btn-block my-2' %>
        </div>
      </div>
  
    <% end %>
  </div>

</div>
